!function(){var e=angular.module("speakerQueue",["ngRoute"]);e.config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/home.html"})}])}();
!function(){function e(e,n){o=e,t=n,r=this,this.queue=o.getQueue(),t.on("add-song",this.addTrack),t.on("remove-song",this.removeTrack)}var o,t,r,n=angular.module("speakerQueue");e.prototype.addTrack=function(e){console.log("Message: "+e.title+" added.")},e.prototype.removeTrack=function(e){console.log("Message: "+e.title+" removed.")},n.controller("queueController",["queueService","socketService",e])}();
!function(){function e(e,n){o=this,t=e,r=n,this.query="",this.results=null}var t,r,o,n=angular.module("speakerQueue");e.prototype.selectTrack=function(e){r.addTrack(e).then(function(e){console.log("Track "+e.title+" added.")},function(){console.error("failed to add track to queue")}),this.results=null},e.prototype.relatedTracks=function(e){e?t.search(e).then(function(e){o.results=e}):o.results=null},n.controller("searchController",["soundcloudService","queueService",e])}();
!function(){function e(e,r){u=e,t=r}var t,u,r=angular.module("speakerQueue");e.prototype.addTrack=function(e){var r=t.defer();return u.post("/api/queue",e).then(function(e){e.data.error?r.reject(e.data):r.resolve(e.data)},function(e){r.reject(e)}),r.promise},e.prototype.getQueue=function(){var e=t.defer();return u.get("/api/queue/").then(function(t){e.resolve(t.data)},function(t){e.reject(t)}),e.promise},e.prototype.isInQueue=function(e){return queue?queue.some(function(t,u,r){return e.id===t.id}):!1},r.service("queueService",["$http","$q",e])}();
!function(){function t(){this.socket=io.connect("http://192.168.1.120:3000"),this.events=["add-song","remove-song","pause","play"]}var e=angular.module("speakerQueue");t.prototype.isValidEvent=function(t){return this.events.some(function(e,n,o){return e===t})},t.prototype.emit=function(t){this.isValidEvent(t)&&this.socket.emit(t)},t.prototype.on=function(t,e){this.events.push(t),this.socket.on(t,function(){e()})},e.service("socketService",[t])}();
!function(){function e(e,t){r=e,i=t,SC.initialize({client_id:"9cb398fe220f1bef54d28cc3f4a8a06a"})}var i,r,t=angular.module("speakerQueue");e.prototype.search=function(e){var r=i.defer();return SC.get("/tracks",{q:e,limit:10},function(e){r.resolve(e)}),r.promise},t.service("soundcloudService",["$http","$q",e])}();
