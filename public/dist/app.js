!function(){var e=angular.module("speakerQueue",["ngRoute"]);e.config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/home.html"})}])}();
!function(){function e(e,n){u=e,o=n,t=this,this.updateQueue(),o.on("add-song",this.updateQueue)}var u,o,t,n=angular.module("speakerQueue");e.prototype.updateQueue=function(){u.getQueue().then(function(e){t.queue=e},function(e){console.error(e)})},n.controller("queueController",["queueService","socketService",e])}();
!function(){function e(e,t){r=this,u=e,o=t,this.query="",this.results=null}var u,o,r,t=angular.module("speakerQueue");e.prototype.selectTrack=function(e){o.isInQueue(e)||(o.addTrack(e).then(function(e){console.dir(e),console.log("Track successfully added")},function(){console.error("failed to add track to queue")}),this.results=null)},e.prototype.relatedTracks=function(e){e?u.search(e).then(function(e){r.results=e}):r.results=null},t.controller("searchController",["soundcloudService","queueService",e])}();
!function(){function e(e,o,u){t=e,r=o,n=u,n.on("add-song",this.addTrack),n.on("remove-song",this.removeTrack)}var r,t,n,o,u=angular.module("speakerQueue");e.prototype.addTrack=function(e){var n=r.defer();return t.post("/api/queue",e).then(function(e){e.data.error?n.reject(e.data):n.resolve(e.data)},function(e){n.reject(e)}),n.promise},e.removeTrack=function(e){},e.prototype.getQueue=function(){var e=r.defer();return o?e.resolve(o):t.get("/api/queue/").then(function(r){o=r.data,e.resolve(r.data)},function(r){e.reject(r)}),e.promise},e.prototype.isInQueue=function(e){return o?o.some(function(r,t,n){return e.id===r.id}):!1},u.service("queueService",["$http","$q","socketService",e])}();
!function(){function t(){this.socket=io.connect("http://192.168.1.113:3000"),this.events=["add-song","remove-song","pause","play"]}var e=angular.module("speakerQueue");t.prototype.isValidEvent=function(t){return this.events.some(function(e,n,o){return e===t})},t.prototype.emit=function(t){this.isValidEvent(t)&&this.socket.emit(t)},t.prototype.on=function(t,e){this.events.push(t),this.socket.on(t,function(){e()})},e.service("socketService",[t])}();
!function(){function e(e,t){r=e,i=t,SC.initialize({client_id:"9cb398fe220f1bef54d28cc3f4a8a06a"})}var i,r,t=angular.module("speakerQueue");e.prototype.search=function(e){var r=i.defer();return SC.get("/tracks",{q:e,limit:10},function(e){r.resolve(e)}),r.promise},t.service("soundcloudService",["$http","$q",e])}();
